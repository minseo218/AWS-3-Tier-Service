<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Information</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style>
        body {
            background-color: #FFFFFF;
        }
        .jumbotron {
            background-color: #FFFFFF;
        }
        .btn-primary, .btn-secondary {
            background-color: #FFD700;
            border-color: #FFD700;
        }
        .container {
            background-color: #FFF9C4;
            padding: 20px;
            border-radius: 10px;
        }
    </style>
</head>
<body>
<div class="container my-5">
    <div class="jumbotron">
        <h3 class="display-4">☀️ User Information ☀️</h3>
        <p class="lead">Hi You are in WAS server:) You can enter your information here.</p>
        <hr class="my-4">
        <div id="userInfoForm">
            <h4>User Information</h4>
            <form>
                <div class="form-group">
                    <label for="userName">User Name:</label>
                    <input type="text" class="form-control" id="userName" placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label for="loanAmount">Loan Amount:</label>
                    <input type="number" class="form-control" id="loanAmount" placeholder="Enter loan amount">
                </div>
                <div class="form-group">
                    <label for="loanDuration">Loan Duration (in months):</label>
                    <input type="number" class="form-control" id="loanDuration" placeholder="Enter loan duration">
                </div>
                <button type="button" class="btn btn-primary" onclick="saveUserInfo()">Submit</button>
            </form>
        </div>
        <a href="/home.html" class="btn btn-secondary mt-3">Go to Home</a>
    </div>
</div>

<script>
    function saveUserInfo() {
        var userName = $('#userName').val();
        var loanAmount = $('#loanAmount').val();
        var loanDuration = $('#loanDuration').val();

        // 입력한 정보를 객체로 만듭니다.
        var userInfo = {
            userName: userName,
            loanAmount: loanAmount,
            loanDuration: loanDuration
        };

        // 서버로 정보를 전송합니다.
        $.ajax({
            type: 'POST',
            url: '/saveUserInfo',
            data: JSON.stringify(userInfo),
            contentType: 'application/json',
            success: function(response) {
                // 서버로부터 응답을 받으면 처리합니다.
                $('#userInfoForm').html(response);
            },
            error: function() {
                // 오류가 발생했을 때 처리합니다.
                alert('Failed to save user information.');
            }
        });
    }
</script>